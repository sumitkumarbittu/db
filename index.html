<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PostgreSQL Query Executor</title>

    <link rel="stylesheet" href="style.css">

</head>
<body>
<div class="container">

<div class="header">
<h1>ğŸ˜ PostgreSQL Query Executor</h1>
<p>Execute SQL queries with style and ease</p>
</div>

<div id="render-status"
     class="status-badge disconnected"
     style="margin-bottom:20px;">
  ğŸ”´ Render : Disconnected
</div>

<div id="api-selector" class="api-selector" aria-label="API base selector"></div>


<!-- DATABASE CARD -->
<div class="card">
<div class="card-header">
<h2>Database Connection</h2>
</div>

<span id="status" class="status-badge disconnected">âœ— Not Connected</span>

<div class="input-group">
<label>Connection String</label>
<input type="text" id="database_url"
placeholder="postgresql://user:password@host:5432/dbname">
</div>

<div class="btn-row" role="group" aria-label="Connection actions">
<button class="btn btn-primary" onclick="saveDB()">Save Connection</button>
<button class="btn btn-primary btn-icon" type="button" onclick="refreshConnection()" aria-label="Refresh connection">
  <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
    <path fill="currentColor" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zm2.92 2.83H5v-.92l9.06-9.06.92.92L5.92 20.08zM20.71 7.04c.39-.39.39-1.02 0-1.41L18.37 3.29a.996.996 0 1 0-1.41 1.41l2.34 2.34c.39.39 1.02.39 1.41 0z"/>
  </svg>
</button>
</div>
</div>

<!-- QUERY CARD -->
<div class="card">
<div class="card-header">
<h2>SQL Query</h2>
</div>

<div class="input-group">
<label>Enter your SQL query</label>
<textarea id="query" placeholder="SELECT * FROM users;"></textarea>
</div>

<button class="btn btn-primary" onclick="runQuery()">Execute Query</button>
</div>

<!-- OUTPUT CARD -->
<div class="card">
<div class="card-header">
<h2>Query Output</h2>
<div class="output-actions" role="group" aria-label="Output actions">
  <div class="export-controls" id="export-controls">
    <button class="btn btn-secondary btn-download" id="download-btn" type="button" onclick="enterExportMode()" disabled>Download</button>
    <div class="export-mode" id="export-mode" aria-hidden="true">
      <button class="btn btn-secondary btn-export" type="button" onclick="downloadResult('csv')">csv</button>
      <button class="btn btn-secondary btn-export" type="button" onclick="downloadResult('json')">json</button>
      <button class="btn btn-secondary btn-export-cancel" type="button" onclick="exitExportMode()" aria-label="Cancel export">Ã—</button>
    </div>
  </div>
</div>
</div>

<div id="result" class="result-tile resizable-vertical" aria-live="polite"></div>
</div>

<div id="clock-widget" class="theme-0">
  <div class="clock-toolbar">
    <button id="colorBtn" title="Color">â—</button>
    <button id="tzBtn" title="GMT / IST">IST</button>
    <button id="lockBtn" title="Lock">ğŸ”“</button>
  </div>

  <div class="clock-body" id="dragArea">
    <div class="time-box"><div class="num" id="hh">00</div></div>
    <div class="time-box"><div class="num" id="mm">00</div></div>
    <div class="time-box"><div class="num" id="ss">00</div></div>
    <div class="time-box"><div class="num" id="ms">000</div></div>
  </div>

  <div class="resize-handle"></div>
</div>


<!-- HISTORY CARD -->
<div class="card">
<div class="card-header">
<h2>Query History</h2>
</div>

<ul id="history" class="history-list"></ul>
</div>

</div>



<!-- ğŸ”¹ LOGIC -->
  <script src="script.js"></script>

<!-- ğŸ”¹ TRACKING -->
  <script src="track.js"></script>

</body>
</html>